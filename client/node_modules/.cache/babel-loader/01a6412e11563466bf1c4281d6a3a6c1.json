{"ast":null,"code":"const url = 'http://localhost:3001'; //FETCH DATA FROM DATA BASE\n\nfunction fetchRequest(path, options) {\n  return fetch(url + path, options).then(res => res.status <= 400 ? res : Promise.reject()).then(res => res.status === 204 ? res : res.json()).catch(err => {\n    console.log(`ERROR fetching ${path}`, err);\n  });\n}\n\nfunction getTopics() {\n  return fetchRequest('/topics');\n}\n\nfunction postTopic(body) {\n  return fetchRequest('/topics', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  });\n}\n\nfunction deleteTopic(id) {\n  return fetchRequest(`/topics/${id}`, {\n    method: 'DELETE'\n  });\n}\n\nfunction voteTopic(id, direction) {\n  return fetchRequest(`/topics/${id}/${direction}`, {\n    method: 'PUT'\n  });\n}\n\nexport default {\n  getTopics,\n  postTopic,\n  deleteTopic,\n  voteTopic\n};","map":{"version":3,"sources":["/Users/maxdraguhn/Documents/codeworks/ReactAssessment/client/codemocracy/src/components/ApiService.js"],"names":["url","fetchRequest","path","options","fetch","then","res","status","Promise","reject","json","catch","err","console","log","getTopics","postTopic","body","method","headers","JSON","stringify","deleteTopic","id","voteTopic","direction"],"mappings":"AAAA,MAAMA,GAAG,GAAG,uBAAZ,C,CAEA;;AACA,SAASC,YAAT,CAAsBC,IAAtB,EAA4BC,OAA5B,EAAqC;AACnC,SAAOC,KAAK,CAACJ,GAAG,GAAGE,IAAP,EAAaC,OAAb,CAAL,CACJE,IADI,CACCC,GAAG,IAAIA,GAAG,CAACC,MAAJ,IAAc,GAAd,GAAoBD,GAApB,GAA0BE,OAAO,CAACC,MAAR,EADlC,EAEJJ,IAFI,CAECC,GAAG,IAAIA,GAAG,CAACC,MAAJ,KAAe,GAAf,GAAqBD,GAArB,GAA2BA,GAAG,CAACI,IAAJ,EAFnC,EAGJC,KAHI,CAGEC,GAAG,IAAI;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAa,kBAAiBZ,IAAK,EAAnC,EAAsCU,GAAtC;AACD,GALI,CAAP;AAMD;;AAED,SAASG,SAAT,GAAqB;AACnB,SAAOd,YAAY,CAAC,SAAD,CAAnB;AACD;;AAED,SAASe,SAAT,CAAmBC,IAAnB,EAAyB;AACvB,SAAOhB,YAAY,CAAC,SAAD,EAAY;AAC7BiB,IAAAA,MAAM,EAAE,MADqB;AAE7BC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAFoB;AAK7BF,IAAAA,IAAI,EAAEG,IAAI,CAACC,SAAL,CAAeJ,IAAf;AALuB,GAAZ,CAAnB;AAOD;;AAED,SAASK,WAAT,CAAqBC,EAArB,EAAyB;AACvB,SAAOtB,YAAY,CAAE,WAAUsB,EAAG,EAAf,EAAkB;AACnCL,IAAAA,MAAM,EAAE;AAD2B,GAAlB,CAAnB;AAGD;;AAED,SAASM,SAAT,CAAmBD,EAAnB,EAAuBE,SAAvB,EAAkC;AAChC,SAAOxB,YAAY,CAAE,WAAUsB,EAAG,IAAGE,SAAU,EAA5B,EAA+B;AAChDP,IAAAA,MAAM,EAAE;AADwC,GAA/B,CAAnB;AAGD;;AAED,eAAe;AAAEH,EAAAA,SAAF;AAAaC,EAAAA,SAAb;AAAwBM,EAAAA,WAAxB;AAAqCE,EAAAA;AAArC,CAAf","sourcesContent":["const url = 'http://localhost:3001';\n\n//FETCH DATA FROM DATA BASE\nfunction fetchRequest(path, options) {\n  return fetch(url + path, options)\n    .then(res => res.status <= 400 ? res : Promise.reject())\n    .then(res => res.status === 204 ? res : res.json())\n    .catch(err => {\n      console.log(`ERROR fetching ${path}`, err)\n    })\n}\n\nfunction getTopics() {\n  return fetchRequest('/topics');\n}\n\nfunction postTopic(body) {\n  return fetchRequest('/topics', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  });\n}\n\nfunction deleteTopic(id) {\n  return fetchRequest(`/topics/${id}`, {\n    method: 'DELETE',\n  })\n}\n\nfunction voteTopic(id, direction) {\n  return fetchRequest(`/topics/${id}/${direction}`, {\n    method: 'PUT'\n  })\n}\n\nexport default { getTopics, postTopic, deleteTopic, voteTopic };\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}